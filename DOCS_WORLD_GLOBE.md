# 3D 震撼写实地球技术实现文档

本项目中的写实地球动效是基于 **Three.js**、**React Three Fiber (R3F)** 和 **React Three Drei** 构建的。它通过多层渲染技术实现了深度感与细节感的完美平衡。

## 1. 核心技术栈
- **@react-three/fiber**: 将 Three.js 声明式地集成到 React 组件中。
- **@react-three/drei**: 提供了一系列高质量的辅助组件（如 `useTexture`, `Stars`, `OrbitControls`）。
- **Three.js**: 底层的 3D 渲染引擎。

## 2. 图层构成
地球由四个主要层级叠加而成：

### A. 地球主体 (Main Earth Body)
- **材质**: 使用 `meshPhongMaterial`，因为它能很好地处理镜面高光。
- **贴图**:
    - **Color Map**: 提供地表颜色（陆地、海洋）。
    - **Normal Map**: 模拟地表的凹凸感（山脉、峡谷），使其在光照下产生阴影。
    - **Specular Map**: 控制海洋的反射强度，让海水看起来有光泽，而陆地保持哑光。

### B. 云层系统 (Clouds Layer)
- **实现**: 一个比地球主体略大（半径 2.22 vs 2.2）的球体。
- **动画**: 在 `useFrame` 中以略快于地球的速度（0.0012）旋转，模拟大气层的流动。
- **透明度**: 使用 `transparent` 和 `opacity={0.4}`。

### C. 大气层辉光 (Atmosphere Glow)
- **实现**: 一个反向渲染 (`side={THREE.BackSide}`) 的深蓝色球体。
- **视觉效果**: 产生一种从地球边缘透出的淡淡蓝光，增加星球的厚重感。

### D. 数字网格 (Digital Grid Overlay)
- **实现**: 开启 `wireframe` 属性的浅青色球体。
- **设计意图**: 呼应“数字档案馆”的主题，将自然景观与科技元素融合。

## 3. 环境与氛围渲染
- **星空背景**: 使用 `<Stars />` 组件生成 5000 颗带有闪烁效果的星点。
- **光照方案**: 
    - **AmbientLight**: 提供基础环境光。
    - **PointLight (白色)**: 模拟太阳光，产生强烈的明暗对比。
    - **PointLight (紫色)**: 在背光面提供微弱的辅助色，增加科幻感。
- **雾化效果 (`fog`)**: 使用黑色雾化，使地球边缘自然融入深空。

## 4. 性能优化
- **Lazy Loading**: 使用 `React.lazy` 异步加载 3D 组件，确保主页面首屏加载速度。
- **Suspense**: 加载期间显示加载占位符。
- **Texture Size**: 使用 2048px 纹理平衡清晰度与显存占用。

---
*Generated by Artistic Nav AI Assistant*
